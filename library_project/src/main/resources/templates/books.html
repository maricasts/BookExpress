<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org" th:replace="layout :: layout">
<div th:fragment="content">
  <h2>Livros</h2>
  <div th:if="${error}"><p th:text="${error}"></p></div>
  <table>
    <thead><tr><th>Título</th><th>Autor</th><th>Disponíveis</th><th>Ações</th></tr></thead>
    <tbody>
      <tr th:each="livro : ${livros}">
        <td th:text="${livro.titulo}"></td>
        <td th:text="${livro.autor}"></td>
        <td th:text="${livro.quantidade_disponivel}"></td>
        <td>
          <form th:action="@{'/emprestimo/borrow/' + ${livro.id_livro}}" method="post" th:if="${livro.quantidade_disponivel} &gt; 0">
            <button type="submit">Emprestar</button>
          </form>
          <span th:if="${livro.quantidade_disponivel} == 0">Indisponível</span>
        </td>
      </tr>
    </tbody>
  </table>
</div>
</html>
